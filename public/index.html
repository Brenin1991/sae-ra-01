<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAE RA - Realidade Aumentada</title>
    
    <!-- Estilos da aplicação -->
    <link rel="stylesheet" href="style.css">
    
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
</head>
<body>
    <div class="info">
        <div>SAE RA</div>
        <div>Realidade Aumentada</div>
    </div>
    
    <div class="controls">
        <div>Toque nos objetos para brilho rosa</div>
        <div>Gire 360° para ver todos os objetos</div>
        <button id="toggleMode" class="mode-button">Modo HDRI</button>
    </div>

    <!-- Vídeo da webcam como fundo -->
    <video id="webcam" autoplay muted playsinline></video>

    <!-- Cena A-Frame AR -->
    <a-scene 
        vr-mode-ui="enabled: false"
        background="transparent: true"
        cursor="rayOrigin: mouse"
        renderer="alpha: true; antialias: true; colorManagement: true;"
        environment="preset: none; skyType: atmosphere; horizonColor: #212121; lightPosition: 0.5 0.8 -0.6;"
    >
        <!-- Assets -->
        <a-assets>
            <!-- Fallback: Gradient Sky -->
            <img id="gradientSky" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAxMDI0IDUxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izg3Q0VFQjtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSI1MCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkY7c3RvcC1vcGFjaXR5OjEiIC8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzQ2ODJCNDtzdG9wLW9wYWNpdHk6MSIgLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8cmVjdCB3aWR0aD0iMTAyNCIgaGVpZ2h0PSI1MTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+Cjwvc3ZnPgo=" crossorigin="anonymous">
        </a-assets>

        <!-- Sky (Gradient como fallback) -->
        <a-sky 
            src="#gradientSky"
            rotation="0 0 0"
            visible="false"
        ></a-sky>

        <!-- Luzes (reduzidas para combinar com HDRI) -->
        <a-light type="ambient" color="#FFFFFF" intensity="0.3"></a-light>
        <a-light type="directional" position="2 4 5" color="#FFFFFF" intensity="0.4"></a-light>

        <!-- Objetos 3D em cinturão 360° -->
        
        <!-- Esfera 1 - Norte (0°) -->
        <a-sphere 
            position="0 1.8 -2.5" 
            radius="0.3"
            color="#FF6B6B"
            animation="property: rotation; to: 0 360 0; loop: true; dur: 8000"
            class="clickable"
            cursor-listener
        ></a-sphere>
        
        <!-- Cubo 1 - Nordeste (60°) -->
        <a-box 
            position="2.16 1.4 -1.25" 
            width="0.4" 
            height="0.4" 
            depth="0.4"
            color="#4ECDC4"
            animation="property: rotation; to: 360 360 0; loop: true; dur: 10000"
            class="clickable"
            cursor-listener
        ></a-box>
        
        <!-- Torus 1 - Sudeste (120°) -->
        <a-torus 
            position="2.16 1.6 1.25" 
            color="#9B59B6" 
            radius="0.3" 
            radius-tubular="0.05"
            animation="property: rotation; to: 360 360 360; loop: true; dur: 12000"
            class="clickable"
            cursor-listener
        ></a-torus>
        
        <!-- Esfera 2 - Sul (180°) -->
        <a-sphere 
            position="0 1.5 2.5" 
            radius="0.25"
            color="#FF6B6B"
            animation="property: rotation; to: 360 0 360; loop: true; dur: 6000"
            animation__float="property: position; to: 0 2 2.5; loop: true; dir: alternate; dur: 3000"
            class="clickable"
            cursor-listener
        ></a-sphere>
        
        <!-- Cubo 2 - Sudoeste (240°) -->
        <a-box 
            position="-2.16 1.2 1.25" 
            width="0.3" 
            height="0.6" 
            depth="0.3"
            color="#FFE66D"
            animation="property: rotation; to: 0 360 360; loop: true; dur: 7000"
            animation__bounce="property: position; to: -2.16 1.7 1.25; loop: true; dir: alternate; dur: 2000"
            class="clickable"
            cursor-listener
        ></a-box>
        
        <!-- Esfera 3 - Noroeste (300°) -->
        <a-sphere 
            position="-2.16 2 -1.25" 
            radius="0.2"
            color="#FF6B6B"
            animation="property: rotation; to: 0 0 360; loop: true; dur: 4000"
            class="clickable"
            cursor-listener
        ></a-sphere>

        <!-- Objetos extras para completar o cinturão -->
        
        <!-- Torus 2 - Leste (90°) -->
        <a-torus 
            position="2.5 1.3 0" 
            color="#9B59B6" 
            radius="0.25" 
            radius-tubular="0.04"
            animation="property: rotation; to: 360 180 360; loop: true; dur: 15000"
            class="clickable"
            cursor-listener
        ></a-torus>
        
        <!-- Cubo 3 - Oeste (270°) -->
        <a-box 
            position="-2.5 1.7 0" 
            width="0.35" 
            height="0.35" 
            depth="0.35"
            color="#4ECDC4"
            animation="property: rotation; to: 180 360 180; loop: true; dur: 9000"
            class="clickable"
            cursor-listener
        ></a-box>

        <!-- Câmera no centro do cinturão -->
        <a-camera 
            position="0 1.6 0"
            look-controls="enabled: true"
            wasd-controls="enabled: true"
        >
            <a-cursor 
                color="#FF69B4"
                animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
                animation__fusing="property: scale; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
                geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                material="color: #FF69B4; shader: flat"
            ></a-cursor>
        </a-camera>
    </a-scene>

    <!-- Script da aplicação (carregado por último) -->
    <script src="script.js"></script>
</body>
</html>